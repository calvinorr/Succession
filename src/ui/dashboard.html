<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Succession | Dashboard</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'brand': {
                            50: '#eef4ff',
                            100: '#d9e5ff',
                            200: '#bcd2ff',
                            300: '#8eb5ff',
                            400: '#598eff',
                            500: '#3366ff',
                            600: '#1a44f5',
                            700: '#1333e1',
                            800: '#162bb6',
                            900: '#182a8f',
                        },
                        'surface': {
                            0: '#ffffff',
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    fontFamily: {
                        'display': ['"DM Serif Display"', 'serif'],
                        'body': ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                    boxShadow: {
                        'glow': '0 0 40px -10px rgba(51, 102, 255, 0.3)',
                        'card': '0 1px 3px rgba(0,0,0,0.04), 0 4px 12px rgba(0,0,0,0.04)',
                        'card-hover': '0 4px 20px rgba(0,0,0,0.08), 0 0 0 1px rgba(51, 102, 255, 0.1)',
                        'inner-glow': 'inset 0 1px 0 rgba(255,255,255,0.8)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'slide-up': 'slideUp 0.5s ease-out forwards',
                        'scale-in': 'scaleIn 0.3s ease-out forwards',
                        'shimmer': 'shimmer 2s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(16px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        scaleIn: {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-200% 0' },
                            '100%': { backgroundPosition: '200% 0' },
                        },
                    },
                },
            },
        }
    </script>

    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        .material-symbols-outlined.filled {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        /* Subtle grain texture overlay */
        .grain::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.02;
            pointer-events: none;
            z-index: 0;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Staggered animation delays */
        .stagger-1 { animation-delay: 0.05s; }
        .stagger-2 { animation-delay: 0.1s; }
        .stagger-3 { animation-delay: 0.15s; }
        .stagger-4 { animation-delay: 0.2s; }
        .stagger-5 { animation-delay: 0.25s; }
        .stagger-6 { animation-delay: 0.3s; }

        /* Status badge pulse */
        .status-active::before {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background: currentColor;
            border-radius: 50%;
            left: 8px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #1a44f5 0%, #598eff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Table row hover effect */
        .table-row {
            transition: all 0.2s ease;
        }
        .table-row:hover {
            background: linear-gradient(90deg, rgba(51, 102, 255, 0.03) 0%, transparent 100%);
        }

        /* Card shine effect on hover */
        .card-shine {
            position: relative;
            overflow: hidden;
        }
        .card-shine::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(105deg, transparent 40%, rgba(255,255,255,0.5) 50%, transparent 60%);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        .card-shine:hover::after {
            transform: translateX(100%);
        }
    </style>
</head>

<body class="bg-surface-50 dark:bg-surface-900 font-body text-surface-800 dark:text-surface-100 h-screen flex overflow-hidden grain">

    <!-- Sidebar -->
    <aside class="w-64 bg-surface-0 dark:bg-surface-800 border-r border-surface-200/80 dark:border-surface-700 flex flex-col h-full flex-shrink-0 relative z-10">
        <div class="flex flex-col h-full p-5">

            <!-- Logo -->
            <div class="flex items-center gap-3 mb-10 px-1 opacity-0 animate-fade-in">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-brand-500 to-brand-600 flex items-center justify-center shadow-glow">
                    <span class="material-symbols-outlined text-white text-xl">hub</span>
                </div>
                <div>
                    <h1 class="font-display text-xl text-surface-900 dark:text-white tracking-tight">Succession</h1>
                    <p class="text-[10px] uppercase tracking-[0.2em] text-surface-400 font-medium">Expert Systems</p>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="flex flex-col gap-1 flex-1">
                <a href="dashboard.html" class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-xl bg-brand-50 text-brand-600 group transition-all duration-200 opacity-0 animate-slide-up stagger-1">
                    <span class="material-symbols-outlined filled text-[20px]">space_dashboard</span>
                    <span class="text-sm font-semibold">Dashboard</span>
                </a>
                <a href="index.html" class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-xl text-surface-500 hover:text-surface-700 hover:bg-surface-100 group transition-all duration-200 opacity-0 animate-slide-up stagger-2">
                    <span class="material-symbols-outlined text-[20px]">mic</span>
                    <span class="text-sm font-medium">Interviews</span>
                </a>
                <a href="personas.html" class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-xl text-surface-500 hover:text-surface-700 hover:bg-surface-100 group transition-all duration-200 opacity-0 animate-slide-up stagger-3">
                    <span class="material-symbols-outlined text-[20px]">person_search</span>
                    <span class="text-sm font-medium">Personas</span>
                </a>
                <a href="#" class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-xl text-surface-500 hover:text-surface-700 hover:bg-surface-100 group transition-all duration-200 opacity-0 animate-slide-up stagger-4">
                    <span class="material-symbols-outlined text-[20px]">auto_awesome</span>
                    <span class="text-sm font-medium">Synthesis</span>
                </a>

                <div class="flex-1"></div>

                <a href="#" class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-xl text-surface-500 hover:text-surface-700 hover:bg-surface-100 group transition-all duration-200">
                    <span class="material-symbols-outlined text-[20px]">settings</span>
                    <span class="text-sm font-medium">Settings</span>
                </a>
            </nav>

            <!-- User Profile -->
            <div class="border-t border-surface-200/80 pt-5 mt-4">
                <div class="flex items-center gap-3 px-1">
                    <div class="w-9 h-9 rounded-full bg-gradient-to-br from-brand-400 to-brand-600 flex items-center justify-center text-white font-semibold text-sm shadow-sm">
                        CU
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-sm font-semibold text-surface-800 truncate">Calvin User</p>
                        <p class="text-xs text-surface-400 truncate">admin@succession.io</p>
                    </div>
                    <button class="p-1.5 rounded-lg hover:bg-surface-100 text-surface-400 hover:text-surface-600 transition-colors">
                        <span class="material-symbols-outlined text-[18px]">more_vert</span>
                    </button>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col h-full overflow-hidden bg-surface-50 dark:bg-surface-900">

        <!-- Header -->
        <header class="px-8 py-6 bg-surface-0 dark:bg-surface-800 border-b border-surface-200/60 dark:border-surface-700 flex-shrink-0">
            <div class="flex justify-between items-center gap-6">
                <div class="opacity-0 animate-fade-in">
                    <h1 class="font-display text-3xl text-surface-900 dark:text-white tracking-tight">Dashboard</h1>
                    <p class="text-surface-500 dark:text-surface-400 text-sm mt-1">Welcome back. Here's what's happening with your expert knowledge.</p>
                </div>

                <div class="flex items-center gap-4 opacity-0 animate-fade-in stagger-2">
                    <!-- Search -->
                    <div class="relative">
                        <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-surface-400 text-[20px]">search</span>
                        <input
                            type="text"
                            placeholder="Search transcripts or personas..."
                            class="w-72 h-10 pl-10 pr-4 rounded-xl bg-surface-100 dark:bg-surface-700 border-0 text-sm text-surface-700 dark:text-surface-200 placeholder:text-surface-400 focus:outline-none focus:ring-2 focus:ring-brand-500/20 focus:bg-surface-0 dark:focus:bg-surface-600 transition-all"
                        >
                    </div>

                    <!-- Dark Mode Toggle -->
                    <button onclick="toggleDarkMode()" class="p-2 rounded-lg hover:bg-surface-100 dark:hover:bg-surface-700 text-surface-500 dark:text-surface-400 transition-colors">
                        <span class="material-symbols-outlined text-[20px] dark:hidden">dark_mode</span>
                        <span class="material-symbols-outlined text-[20px] hidden dark:inline">light_mode</span>
                    </button>

                    <!-- New Project Button -->
                    <button onclick="window.location.href='interview-setup.html'" class="flex items-center gap-2 h-10 px-5 bg-gradient-to-r from-brand-500 to-brand-600 hover:from-brand-600 hover:to-brand-700 text-white rounded-xl text-sm font-semibold shadow-lg shadow-brand-500/25 hover:shadow-brand-500/40 transition-all duration-200 hover:-translate-y-0.5 active:translate-y-0">
                        <span class="material-symbols-outlined text-[18px]">add</span>
                        <span>New Interview</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Scrollable Content -->
        <div class="flex-1 overflow-y-auto">
            <div class="p-8 max-w-[1400px] mx-auto">

                <!-- Stats Cards -->
                <section class="grid grid-cols-1 md:grid-cols-3 gap-5 mb-8">

                    <!-- Active Interviews -->
                    <div class="group relative bg-surface-0 dark:bg-surface-800 rounded-2xl p-6 border border-surface-200/60 dark:border-surface-700 shadow-card hover:shadow-card-hover transition-all duration-300 opacity-0 animate-slide-up stagger-1 card-shine">
                        <div class="flex justify-between items-start mb-4">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center">
                                <span class="material-symbols-outlined text-blue-500 text-2xl">mic</span>
                            </div>
                            <span id="stat-interviews-change" class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-emerald-50 text-emerald-600">
                                <span class="material-symbols-outlined text-[14px] mr-0.5">trending_up</span>
                                +20%
                            </span>
                        </div>
                        <p class="text-surface-500 dark:text-surface-400 text-sm font-medium mb-1">Active Interviews</p>
                        <p id="stat-interviews" class="font-display text-4xl text-surface-900 dark:text-white">--</p>
                    </div>

                    <!-- Personas Generated -->
                    <div class="group relative bg-surface-0 dark:bg-surface-800 rounded-2xl p-6 border border-surface-200/60 dark:border-surface-700 shadow-card hover:shadow-card-hover transition-all duration-300 opacity-0 animate-slide-up stagger-2 card-shine">
                        <div class="flex justify-between items-start mb-4">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-violet-50 to-violet-100 flex items-center justify-center">
                                <span class="material-symbols-outlined text-violet-500 text-2xl">person_search</span>
                            </div>
                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-emerald-50 text-emerald-600">
                                <span class="material-symbols-outlined text-[14px] mr-0.5">trending_up</span>
                                +5%
                            </span>
                        </div>
                        <p class="text-surface-500 dark:text-surface-400 text-sm font-medium mb-1">Personas Generated</p>
                        <p id="stat-personas" class="font-display text-4xl text-surface-900 dark:text-white">--</p>
                    </div>

                    <!-- Transcripts Ready -->
                    <div class="group relative bg-surface-0 dark:bg-surface-800 rounded-2xl p-6 border border-surface-200/60 dark:border-surface-700 shadow-card hover:shadow-card-hover transition-all duration-300 opacity-0 animate-slide-up stagger-3 card-shine">
                        <div class="flex justify-between items-start mb-4">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-amber-50 to-amber-100 flex items-center justify-center">
                                <span class="material-symbols-outlined text-amber-500 text-2xl">description</span>
                            </div>
                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-emerald-50 text-emerald-600">
                                <span class="material-symbols-outlined text-[14px] mr-0.5">trending_up</span>
                                +10%
                            </span>
                        </div>
                        <p class="text-surface-500 dark:text-surface-400 text-sm font-medium mb-1">Transcripts Ready</p>
                        <p id="stat-transcripts" class="font-display text-4xl text-surface-900 dark:text-white">--</p>
                    </div>
                </section>

                <!-- Main Grid: Table + Personas -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

                    <!-- Interviews Table -->
                    <section class="lg:col-span-2 opacity-0 animate-slide-up stagger-4">
                        <div class="flex items-center justify-between mb-5">
                            <h2 class="font-display text-xl text-surface-900 dark:text-white">Ongoing Interviews</h2>
                            <a href="index.html" class="text-sm font-semibold text-brand-600 hover:text-brand-700 transition-colors flex items-center gap-1">
                                View All
                                <span class="material-symbols-outlined text-[16px]">arrow_forward</span>
                            </a>
                        </div>

                        <div class="bg-surface-0 dark:bg-surface-800 rounded-2xl border border-surface-200/60 dark:border-surface-700 shadow-card overflow-hidden">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-surface-100 dark:border-surface-700">
                                        <th class="text-left py-3.5 px-5 text-xs font-semibold text-surface-400 uppercase tracking-wider">Expert</th>
                                        <th class="text-left py-3.5 px-5 text-xs font-semibold text-surface-400 uppercase tracking-wider">Role</th>
                                        <th class="text-left py-3.5 px-5 text-xs font-semibold text-surface-400 uppercase tracking-wider">Status</th>
                                        <th class="text-left py-3.5 px-5 text-xs font-semibold text-surface-400 uppercase tracking-wider">Date</th>
                                        <th class="text-right py-3.5 px-5 text-xs font-semibold text-surface-400 uppercase tracking-wider">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="interviews-table" class="divide-y divide-surface-100">
                                    <!-- Populated by JS -->
                                    <tr>
                                        <td colspan="5" class="py-12 text-center text-surface-400">
                                            <span class="material-symbols-outlined text-4xl mb-2 block animate-pulse">hourglass_empty</span>
                                            Loading interviews...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <!-- Recent Personas -->
                    <section class="opacity-0 animate-slide-up stagger-5">
                        <div class="flex items-center justify-between mb-5">
                            <h2 class="font-display text-xl text-surface-900 dark:text-white">Recent Personas</h2>
                            <a href="personas.html" class="text-sm font-semibold text-brand-600 hover:text-brand-700 transition-colors">Manage</a>
                        </div>

                        <div id="personas-list" class="flex flex-col gap-4">
                            <!-- Populated by JS -->
                            <div class="flex items-center justify-center py-12 text-surface-400">
                                <span class="material-symbols-outlined text-4xl animate-pulse">hourglass_empty</span>
                            </div>
                        </div>

                        <!-- Create New Persona -->
                        <button onclick="window.location.href='interview-setup.html'" class="mt-4 w-full flex flex-col items-center justify-center gap-2 py-6 border-2 border-dashed border-surface-300 rounded-2xl text-surface-400 hover:border-brand-400 hover:text-brand-500 hover:bg-brand-50/50 transition-all duration-200 group">
                            <span class="material-symbols-outlined text-2xl group-hover:scale-110 transition-transform">add_circle</span>
                            <span class="text-sm font-semibold">Create New Persona</span>
                        </button>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Dark mode toggle
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('darkMode', document.documentElement.classList.contains('dark'));
        }

        // Initialize dark mode from localStorage
        if (localStorage.getItem('darkMode') === 'true' ||
            (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }

        // Fetch and display dashboard data
        async function loadDashboard() {
            try {
                // Fetch stats
                const statsRes = await fetch('/dashboard/stats');
                const stats = await statsRes.json();

                document.getElementById('stat-interviews').textContent = stats.activeInterviews || 0;
                document.getElementById('stat-personas').textContent = stats.personasGenerated || 0;
                document.getElementById('stat-transcripts').textContent = stats.transcriptsReady || 0;

                // Fetch interviews
                const interviewsRes = await fetch('/interviews');
                const interviews = await interviewsRes.json();

                renderInterviews(interviews.slice(0, 5)); // Show top 5

                // Fetch personas
                const personasRes = await fetch('/personas');
                const personas = await personasRes.json();

                renderPersonas(personas.slice(0, 3)); // Show top 3

            } catch (error) {
                console.error('Error loading dashboard:', error);
            }
        }

        function renderInterviews(interviews) {
            const tbody = document.getElementById('interviews-table');

            if (interviews.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="5" class="py-12 text-center">
                            <span class="material-symbols-outlined text-4xl text-surface-300 mb-2 block">inbox</span>
                            <p class="text-surface-500 mb-3">No interviews yet</p>
                            <a href="index.html" class="inline-flex items-center gap-2 text-sm font-semibold text-brand-600 hover:text-brand-700">
                                <span class="material-symbols-outlined text-[16px]">add</span>
                                Start your first interview
                            </a>
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = interviews.map((interview, index) => {
                const statusColors = {
                    'in-progress': 'bg-blue-50 text-blue-600 border-blue-200',
                    'scheduled': 'bg-amber-50 text-amber-600 border-amber-200',
                    'completed': 'bg-emerald-50 text-emerald-600 border-emerald-200',
                    'transcribing': 'bg-violet-50 text-violet-600 border-violet-200',
                };

                const statusLabels = {
                    'in-progress': 'In Progress',
                    'scheduled': 'Scheduled',
                    'completed': 'Completed',
                    'transcribing': 'Transcribing',
                };

                const date = new Date(interview.createdAt);
                const isToday = date.toDateString() === new Date().toDateString();
                const dateStr = isToday
                    ? 'Today, ' + date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' })
                    : date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });

                const actionIcon = interview.status === 'completed' ? 'download' : interview.status === 'scheduled' ? 'edit' : 'visibility';

                return `
                    <tr class="table-row group cursor-pointer" onclick="window.location.href='index.html'">
                        <td class="py-4 px-5">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-gradient-to-br from-surface-200 to-surface-300 flex items-center justify-center text-surface-500 text-xs font-semibold">
                                    ${(interview.expertName || 'UE').split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase()}
                                </div>
                                <span class="font-medium text-surface-800">${interview.expertName || 'Unknown Expert'}</span>
                            </div>
                        </td>
                        <td class="py-4 px-5 text-surface-500 text-sm">${interview.role}</td>
                        <td class="py-4 px-5">
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${statusColors[interview.status] || statusColors['scheduled']}">
                                ${statusLabels[interview.status] || 'Scheduled'}
                            </span>
                        </td>
                        <td class="py-4 px-5 text-surface-600 text-sm">${dateStr}</td>
                        <td class="py-4 px-5 text-right">
                            <button class="p-2 rounded-lg text-surface-400 hover:text-brand-600 hover:bg-brand-50 transition-colors opacity-0 group-hover:opacity-100">
                                <span class="material-symbols-outlined text-[20px]">${actionIcon}</span>
                            </button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function renderPersonas(personas) {
            const container = document.getElementById('personas-list');

            if (personas.length === 0) {
                container.innerHTML = `
                    <div class="bg-surface-0 rounded-2xl border border-surface-200/60 p-6 text-center">
                        <span class="material-symbols-outlined text-4xl text-surface-300 mb-2 block">person_off</span>
                        <p class="text-surface-500 text-sm">No personas created yet</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = personas.map((persona, index) => {
                const traits = persona.traits?.slice(0, 2) || ['Expert', 'Knowledgeable'];
                const colors = [
                    'from-blue-400 to-blue-600',
                    'from-violet-400 to-violet-600',
                    'from-amber-400 to-amber-600',
                    'from-emerald-400 to-emerald-600',
                ];
                const gradientClass = colors[index % colors.length];

                return `
                    <div class="group bg-surface-0 rounded-2xl border border-surface-200/60 p-5 shadow-card hover:shadow-card-hover transition-all duration-300 cursor-pointer" onclick="window.location.href='personas.html'">
                        <div class="flex items-start justify-between mb-3">
                            <div class="flex items-center gap-3">
                                <div class="w-11 h-11 rounded-xl bg-gradient-to-br ${gradientClass} flex items-center justify-center text-white font-semibold text-sm shadow-sm">
                                    ${(persona.name || 'PE').split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase()}
                                </div>
                                <div>
                                    <p class="font-semibold text-surface-800">${persona.name || persona.role}</p>
                                    <p class="text-xs text-surface-400">${persona.role} ${persona.yearsOfExperience ? 'â€¢ ' + persona.yearsOfExperience + 'yo exp' : ''}</p>
                                </div>
                            </div>
                            <span class="material-symbols-outlined text-surface-300 group-hover:text-brand-500 group-hover:translate-x-1 transition-all text-[20px]">arrow_forward</span>
                        </div>
                        <div class="flex gap-2 flex-wrap">
                            ${traits.map(trait => `
                                <span class="px-2.5 py-1 bg-surface-100 text-surface-500 text-[10px] font-semibold rounded-full uppercase tracking-wide">${trait}</span>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Load on page ready
        document.addEventListener('DOMContentLoaded', loadDashboard);
    </script>
</body>
</html>
